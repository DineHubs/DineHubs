{
  "Serilog": {
    "Using": [],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      { "Name": "Console" },
      { "Name": "Seq", "Args": { "serverUrl": "http://localhost:5341" } }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ]
  },
  "Logging": {
    "Database": {
      "Enabled": true,
      "MinimumLevel": "Warning",
      "BatchSizeLimit": 50,
      "PeriodSeconds": 5
    }
  },
  "ConnectionStrings": {
    "Default": "Host=localhost;Port=15432;Database=dinehub;Username=postgres;Password=Shakthi@18"
  },
  "Redis": {
    "Configuration": "localhost:6379"
  },
  "Jwt": {
    "Issuer": "OrderManagement",
    "Audience": "OrderManagement",
    "Key": "d7648b08c2a14341bb9c6a2d5f1e5c2fa4b8",
    "AccessTokenMinutes": 30,
    "RefreshTokenDays": 14
  },
  "MultiTenancy": {
    "Strategy": "Header",
    "HeaderName": "X-Tenant-Code",
    "BranchHeaderName": "X-Branch-Code",
    "DefaultTenantId": "00000000-0000-0000-0000-000000000000"
  },
  "Messaging": {
    "WhatsApp": {
      "Provider": "MetaCloud",
      "BaseUrl": "https://graph.facebook.com/v19.0",
      "AccessToken": "",
      "DefaultPhoneNumberId": ""
    },
    "Email": {
      "Provider": "SMTP",
      "Host": "smtp.mailtrap.io",
      "Port": 587,
      "Username": "",
      "Password": "",
      "FromEmail": "noreply@ordermanagement.local",
      "FromName": "Order Management"
    }
  },
  "Payments": {
    "DefaultProvider": "Stripe",
    "Stripe": {
      "ApiKey": "",
      "WebhookSecret": ""
    },
    "IPay88": {
      "MerchantCode": "",
      "MerchantKey": "",
      "Endpoint": "https://payment.ipay88.com.my/epayment/entry.asp"
    },
    "Fpx": {
      "PartnerId": "",
      "SecretKey": "",
      "Endpoint": "https://uat.mepsfpx.com.my/FPXMain/RetrieveDirectFPXPayment"
    }
  },
  "Subscription": {
    "Plans": [
      {
        "Name": "FreeTrial",
        "DisplayName": "Free Trial",
        "DurationDays": 30,
        "MaxBranches": 1,
        "MaxUsers": 5,
        "IncludesWhatsAppBilling": false,
        "IncludesInventory": false
      },
      {
        "Name": "Basic",
        "DisplayName": "Basic",
        "MaxBranches": 5,
        "MaxUsers": 50,
        "IncludesWhatsAppBilling": false,
        "IncludesInventory": true
      },
      {
        "Name": "Premium",
        "DisplayName": "Premium",
        "MaxBranches": 0,
        "MaxUsers": 0,
        "IncludesWhatsAppBilling": true,
        "IncludesInventory": true
      }
    ],
    "UsageThresholds": {
      "Branches": 0.9,
      "Users": 0.9,
      "OrdersPerMonth": 0.9
    }
  },
  "FeatureFlags": {
    "Reporting": true,
    "Inventory": true,
    "WhatsAppBilling": true,
    "QrOrdering": true
  },
  "Security": {
    "RateLimiting": {
      "Authenticated": {
        "PermitLimit": 100,
        "WindowMinutes": 1,
        "QueueLimit": 10
      },
      "Anonymous": {
        "PermitLimit": 20,
        "WindowMinutes": 1,
        "QueueLimit": 5
      }
    },
    "Hsts": {
      "MaxAgeDays": 365,
      "IncludeSubDomains": true,
      "Preload": true
    }
  },
  "AllowedHosts": "*"
}
