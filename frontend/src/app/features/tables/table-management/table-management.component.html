<div class="space-y-6">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between">
    <div class="flex items-center gap-4">
      <button
        type="button"
        class="p-2 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
        (click)="goBack()">
        <lucide-icon [name]="arrowLeftIcon" size="20"></lucide-icon>
      </button>
      <div>
        <h2 class="text-xl md:text-2xl font-bold leading-tight text-text-primary-light dark:text-text-primary-dark mb-1">
          Table Management
        </h2>
        <p class="text-sm md:text-base text-text-secondary-light dark:text-text-secondary-dark leading-relaxed">
          Configure tables for your restaurant branch
        </p>
      </div>
    </div>

    <div class="flex items-center gap-3">
      <!-- Branch Selector -->
      @if (branches().length > 0) {
        <div class="relative">
          <button
            type="button"
            class="px-4 py-2.5 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 flex items-center gap-2 min-w-[180px] justify-between"
            (click)="toggleBranchDropdown()">
            <span class="truncate">{{ selectedBranchName() }}</span>
            <lucide-icon [name]="chevronDownIcon" size="18" class="text-text-secondary-light dark:text-text-secondary-dark flex-shrink-0"></lucide-icon>
          </button>

          @if (showBranchDropdown()) {
            <div
              class="absolute top-full left-0 mt-2 w-full min-w-[200px] bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-20 overflow-hidden">
              @for (branch of branches(); track branch.id) {
                <button
                  type="button"
                  class="w-full px-4 py-3 text-left hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-150"
                  [class.bg-primary]="selectedBranchId() === branch.id"
                  [class.bg-opacity-10]="selectedBranchId() === branch.id"
                  (click)="selectBranch(branch.id)">
                  {{ branch.name }}
                </button>
              }
            </div>
          }
        </div>
      }

      <!-- Bulk Add Button -->
      <button
        type="button"
        class="px-4 py-2.5 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95 flex items-center gap-2"
        [disabled]="!canAddMore() || !selectedBranchId()"
        [class.opacity-50]="!canAddMore() || !selectedBranchId()"
        [class.cursor-not-allowed]="!canAddMore() || !selectedBranchId()"
        (click)="openBulkAddModal()">
        <lucide-icon [name]="gridIcon" size="18"></lucide-icon>
        <span>Bulk Add</span>
      </button>

      <!-- Add Single Table Button -->
      <button
        type="button"
        class="px-4 py-2.5 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all duration-200 active:scale-95 flex items-center gap-2 shadow-md hover:shadow-lg"
        [disabled]="!canAddMore() || !selectedBranchId()"
        [class.opacity-50]="!canAddMore() || !selectedBranchId()"
        [class.cursor-not-allowed]="!canAddMore() || !selectedBranchId()"
        (click)="openAddModal()">
        <lucide-icon [name]="plusIcon" size="18"></lucide-icon>
        <span>Add Table</span>
      </button>
    </div>
  </div>

  <!-- Stats -->
  @if (selectedBranchId()) {
    <div class="bg-surface-light dark:bg-surface-dark rounded-2xl shadow-lg border border-border-light dark:border-border-dark p-4">
      <div class="flex flex-wrap items-center gap-6">
        <div class="flex items-center gap-2">
          <span class="text-sm text-text-secondary-light dark:text-text-secondary-dark">Tables:</span>
          <span class="font-bold text-text-primary-light dark:text-text-primary-dark">{{ tableCount() }}</span>
          <span class="text-xs text-text-secondary-light dark:text-text-secondary-dark">/ {{ MAX_TABLES }}</span>
        </div>
        <div class="h-4 w-px bg-border-light dark:bg-border-dark"></div>
        <div class="flex items-center gap-2">
          <span class="text-sm text-text-secondary-light dark:text-text-secondary-dark">Available slots:</span>
          <span class="font-bold" [class.text-emerald-600]="remainingSlots() > 10" [class.text-amber-600]="remainingSlots() <= 10 && remainingSlots() > 0" [class.text-red-600]="remainingSlots() === 0">
            {{ remainingSlots() }}
          </span>
        </div>
        <div class="h-4 w-px bg-border-light dark:bg-border-dark"></div>
        <div class="text-sm text-text-secondary-light dark:text-text-secondary-dark">
          Min: {{ MIN_TABLES }} | Max: {{ MAX_TABLES }}
        </div>
      </div>
    </div>
  }

  <!-- Loading State -->
  @if (isLoading()) {
    <div class="flex items-center justify-center py-24">
      <div class="animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"></div>
    </div>
  }

  <!-- Tables List -->
  @else {
    @if (!selectedBranchId()) {
      <!-- No Branch Selected -->
      <div class="bg-surface-light dark:bg-surface-dark rounded-2xl shadow-lg p-12 text-center">
        <div class="p-4 rounded-full bg-primary/10 dark:bg-primary/20 inline-flex mb-4">
          <lucide-icon [name]="gridIcon" size="48" class="text-primary"></lucide-icon>
        </div>
        <h3 class="text-lg md:text-xl font-bold leading-tight text-text-primary-light dark:text-text-primary-dark mb-2">
          Select a Branch
        </h3>
        <p class="text-sm md:text-base text-text-secondary-light dark:text-text-secondary-dark leading-relaxed">
          Choose a branch from the dropdown to manage its tables
        </p>
      </div>
    } @else if (tables().length === 0) {
      <!-- Empty State -->
      <div class="bg-surface-light dark:bg-surface-dark rounded-2xl shadow-lg p-12 text-center">
        <div class="p-4 rounded-full bg-primary/10 dark:bg-primary/20 inline-flex mb-4">
          <lucide-icon [name]="gridIcon" size="48" class="text-primary"></lucide-icon>
        </div>
        <h3 class="text-lg md:text-xl font-bold leading-tight text-text-primary-light dark:text-text-primary-dark mb-2">
          No tables configured
        </h3>
        <p class="text-sm md:text-base text-text-secondary-light dark:text-text-secondary-dark mb-6 leading-relaxed">
          Get started by adding tables to this branch
        </p>
        <div class="flex items-center justify-center gap-3">
          <button
            type="button"
            class="px-6 py-3 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95 flex items-center gap-2"
            (click)="openBulkAddModal()">
            <lucide-icon [name]="gridIcon" size="20"></lucide-icon>
            <span>Bulk Add Tables</span>
          </button>
          <button
            type="button"
            class="px-6 py-3 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all duration-200 active:scale-95 flex items-center gap-2 shadow-md hover:shadow-lg"
            (click)="openAddModal()">
            <lucide-icon [name]="plusIcon" size="20"></lucide-icon>
            <span>Add Single Table</span>
          </button>
        </div>
      </div>
    } @else {
      <!-- Tables Grid -->
      <div class="bg-surface-light dark:bg-surface-dark rounded-2xl shadow-lg border border-border-light dark:border-border-dark overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="border-b border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark">
                <th class="px-4 md:px-6 py-3 text-left text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider">
                  Table #
                </th>
                <th class="px-4 md:px-6 py-3 text-left text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider">
                  Status
                </th>
                <th class="px-4 md:px-6 py-3 text-left text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider">
                  Position
                </th>
                <th class="px-4 md:px-6 py-3 text-left text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider">
                  Size
                </th>
                <th class="px-4 md:px-6 py-3 text-right text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-border-light dark:divide-border-dark">
              @for (table of tables(); track table.id) {
                <tr class="hover:bg-bg-light dark:hover:bg-bg-dark transition-colors duration-200">
                  <td class="px-4 md:px-6 py-4">
                    <span class="text-base font-semibold text-text-primary-light dark:text-text-primary-dark">
                      {{ table.tableNumber }}
                    </span>
                  </td>
                  <td class="px-4 md:px-6 py-4">
                    <span class="px-2.5 py-1 rounded-full text-xs font-medium" [class]="getStatusClass(table.status)">
                      {{ table.statusName }}
                    </span>
                  </td>
                  <td class="px-4 md:px-6 py-4">
                    <span class="text-sm text-text-secondary-light dark:text-text-secondary-dark">
                      X: {{ table.positionX | number:'1.0-0' }}, Y: {{ table.positionY | number:'1.0-0' }}
                    </span>
                  </td>
                  <td class="px-4 md:px-6 py-4">
                    <span class="text-sm text-text-secondary-light dark:text-text-secondary-dark">
                      {{ table.width | number:'1.0-0' }} Ã— {{ table.height | number:'1.0-0' }}
                    </span>
                  </td>
                  <td class="px-4 md:px-6 py-4">
                    <div class="flex items-center justify-end gap-2">
                      <button
                        type="button"
                        class="min-w-[36px] min-h-[36px] flex items-center justify-center rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
                        (click)="openEditModal(table)"
                        title="Edit table">
                        <lucide-icon [name]="editIcon" size="18"></lucide-icon>
                      </button>
                      <button
                        type="button"
                        class="min-w-[36px] min-h-[36px] flex items-center justify-center rounded-xl bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/50 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed"
                        (click)="openDeleteModal(table)"
                        [disabled]="!canDelete()"
                        title="Delete table">
                        <lucide-icon [name]="trashIcon" size="18"></lucide-icon>
                      </button>
                    </div>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    }
  }
</div>

<!-- Add Modal -->
@if (showAddModal()) {
  <div
    class="fixed inset-0 z-40 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"
    (click)="closeAddModal()">
    <div
      class="w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col z-50"
      (click)="$event.stopPropagation()">
      <div class="flex items-center justify-between p-6 border-b border-border-light dark:border-border-dark">
        <h2 class="text-xl font-bold text-text-primary-light dark:text-text-primary-dark">
          Add Table
        </h2>
        <button
          type="button"
          class="p-2 rounded-xl hover:bg-border-light dark:hover:bg-border-dark transition-all duration-200 active:scale-95"
          (click)="closeAddModal()">
          <lucide-icon [name]="xIcon" size="24" class="text-text-secondary-light dark:text-text-secondary-dark"></lucide-icon>
        </button>
      </div>
      <div class="p-6 space-y-4">
        <div>
          <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
            Table Number *
          </label>
          <input
            type="text"
            [value]="tableForm().tableNumber"
            (input)="updateFormField('tableNumber', $any($event.target).value)"
            placeholder="e.g., 1, A1, VIP1"
            class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark placeholder:text-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Width
            </label>
            <input
              type="number"
              [value]="tableForm().width"
              (input)="updateFormField('width', +$any($event.target).value)"
              min="50"
              max="200"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Height
            </label>
            <input
              type="number"
              [value]="tableForm().height"
              (input)="updateFormField('height', +$any($event.target).value)"
              min="50"
              max="200"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
        </div>
      </div>
      <div class="flex items-center justify-end gap-3 p-6 border-t border-border-light dark:border-border-dark">
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
          (click)="closeAddModal()">
          Cancel
        </button>
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all duration-200 active:scale-95 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
          (click)="createTable()"
          [disabled]="!tableForm().tableNumber.trim()">
          Create Table
        </button>
      </div>
    </div>
  </div>
}

<!-- Bulk Add Modal -->
@if (showBulkAddModal()) {
  <div
    class="fixed inset-0 z-40 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"
    (click)="closeBulkAddModal()">
    <div
      class="w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col z-50"
      (click)="$event.stopPropagation()">
      <div class="flex items-center justify-between p-6 border-b border-border-light dark:border-border-dark">
        <h2 class="text-xl font-bold text-text-primary-light dark:text-text-primary-dark">
          Bulk Add Tables
        </h2>
        <button
          type="button"
          class="p-2 rounded-xl hover:bg-border-light dark:hover:bg-border-dark transition-all duration-200 active:scale-95"
          (click)="closeBulkAddModal()">
          <lucide-icon [name]="xIcon" size="24" class="text-text-secondary-light dark:text-text-secondary-dark"></lucide-icon>
        </button>
      </div>
      <div class="p-6 space-y-4">
        <div>
          <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
            Number of Tables
          </label>
          <input
            type="number"
            [value]="bulkCount()"
            (input)="updateBulkCount(+$any($event.target).value)"
            [min]="MIN_TABLES"
            [max]="remainingSlots()"
            class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          <p class="mt-2 text-sm text-text-secondary-light dark:text-text-secondary-dark">
            Tables will be numbered automatically starting from 1 (or next available number)
          </p>
        </div>
        <div class="bg-bg-light dark:bg-bg-dark rounded-xl p-4">
          <p class="text-sm text-text-secondary-light dark:text-text-secondary-dark">
            <span class="font-medium text-text-primary-light dark:text-text-primary-dark">Available slots:</span> {{ remainingSlots() }}
          </p>
        </div>
      </div>
      <div class="flex items-center justify-end gap-3 p-6 border-t border-border-light dark:border-border-dark">
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
          (click)="closeBulkAddModal()">
          Cancel
        </button>
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all duration-200 active:scale-95 shadow-md hover:shadow-lg"
          (click)="bulkCreateTables()">
          Create {{ bulkCount() }} Tables
        </button>
      </div>
    </div>
  </div>
}

<!-- Edit Modal -->
@if (showEditModal() && selectedTable()) {
  <div
    class="fixed inset-0 z-40 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"
    (click)="closeEditModal()">
    <div
      class="w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col z-50"
      (click)="$event.stopPropagation()">
      <div class="flex items-center justify-between p-6 border-b border-border-light dark:border-border-dark">
        <h2 class="text-xl font-bold text-text-primary-light dark:text-text-primary-dark">
          Edit Table
        </h2>
        <button
          type="button"
          class="p-2 rounded-xl hover:bg-border-light dark:hover:bg-border-dark transition-all duration-200 active:scale-95"
          (click)="closeEditModal()">
          <lucide-icon [name]="xIcon" size="24" class="text-text-secondary-light dark:text-text-secondary-dark"></lucide-icon>
        </button>
      </div>
      <div class="p-6 space-y-4">
        <div>
          <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
            Table Number *
          </label>
          <input
            type="text"
            [value]="tableForm().tableNumber"
            (input)="updateFormField('tableNumber', $any($event.target).value)"
            class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Position X
            </label>
            <input
              type="number"
              [value]="tableForm().positionX"
              (input)="updateFormField('positionX', +$any($event.target).value)"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Position Y
            </label>
            <input
              type="number"
              [value]="tableForm().positionY"
              (input)="updateFormField('positionY', +$any($event.target).value)"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Width
            </label>
            <input
              type="number"
              [value]="tableForm().width"
              (input)="updateFormField('width', +$any($event.target).value)"
              min="50"
              max="200"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
          <div>
            <label class="block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2">
              Height
            </label>
            <input
              type="number"
              [value]="tableForm().height"
              (input)="updateFormField('height', +$any($event.target).value)"
              min="50"
              max="200"
              class="w-full px-4 py-3 rounded-xl bg-bg-light dark:bg-bg-dark border border-border-light dark:border-border-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200">
          </div>
        </div>
      </div>
      <div class="flex items-center justify-end gap-3 p-6 border-t border-border-light dark:border-border-dark">
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
          (click)="closeEditModal()">
          Cancel
        </button>
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold transition-all duration-200 active:scale-95 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
          (click)="updateTable()"
          [disabled]="!tableForm().tableNumber.trim()">
          Update Table
        </button>
      </div>
    </div>
  </div>
}

<!-- Delete Modal -->
@if (showDeleteModal() && selectedTable()) {
  <div
    class="fixed inset-0 z-40 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"
    (click)="closeDeleteModal()">
    <div
      class="w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col z-50"
      (click)="$event.stopPropagation()">
      <div class="flex items-center justify-between p-6 border-b border-border-light dark:border-border-dark">
        <h2 class="text-xl font-bold text-text-primary-light dark:text-text-primary-dark">
          Delete Table
        </h2>
        <button
          type="button"
          class="p-2 rounded-xl hover:bg-border-light dark:hover:bg-border-dark transition-all duration-200 active:scale-95"
          (click)="closeDeleteModal()">
          <lucide-icon [name]="xIcon" size="24" class="text-text-secondary-light dark:text-text-secondary-dark"></lucide-icon>
        </button>
      </div>
      <div class="p-6">
        <p class="text-base text-text-primary-light dark:text-text-primary-dark leading-relaxed">
          Are you sure you want to delete table <strong>"{{ selectedTable()!.tableNumber }}"</strong>? This action cannot be undone.
        </p>
      </div>
      <div class="flex items-center justify-end gap-3 p-6 border-t border-border-light dark:border-border-dark">
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark hover:bg-border-light dark:hover:bg-border-dark text-text-primary-light dark:text-text-primary-dark transition-all duration-200 active:scale-95"
          (click)="closeDeleteModal()">
          Cancel
        </button>
        <button
          type="button"
          class="px-4 py-2 rounded-xl bg-red-600 hover:bg-red-700 text-white font-semibold transition-all duration-200 active:scale-95 shadow-md hover:shadow-lg"
          (click)="confirmDelete()">
          Delete Table
        </button>
      </div>
    </div>
  </div>
}

<!-- Click outside to close dropdown -->
@if (showBranchDropdown()) {
  <div
    class="fixed inset-0 z-10"
    (click)="closeBranchDropdown()">
  </div>
}

