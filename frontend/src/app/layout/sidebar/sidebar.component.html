<nav class="sidebar-nav">
  <mat-nav-list>
    @for (item of menuItems(); track item.id) {
      @if (hasChildren(item)) {
        <mat-expansion-panel class="menu-expansion">
          <mat-expansion-panel-header>
            <mat-panel-title>
              @if (item.icon) {
                <mat-icon class="menu-icon">{{ item.icon }}</mat-icon>
              }
              <span>{{ item.label }}</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="submenu">
            @for (child of item.children; track child.id) {
              <a mat-list-item [routerLink]="child.route" routerLinkActive="active">
                @if (child.icon) {
                  <mat-icon matListItemIcon>{{ child.icon }}</mat-icon>
                }
                <span matListItemTitle>{{ child.label }}</span>
              </a>
            }
          </div>
        </mat-expansion-panel>
      } @else {
        <a mat-list-item [routerLink]="item.route" routerLinkActive="active">
          @if (item.icon) {
            <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
          }
          <span matListItemTitle>{{ item.label }}</span>
        </a>
      }
    }
  </mat-nav-list>
</nav>

